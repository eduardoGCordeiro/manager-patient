{"ast":null,"code":"import { ADD_CHANGES, ADD_ERRORS, CLEAR_DATA, SAVE_DATA, EDIT_DATA, SEND_DATA_SUCCESS, SEND_DATA_ERROR, CONFIRM_ALERT } from '../actions/actionsType';\nimport * as ValidationsForm from '../../validations/patientForm';\nexport function clearData() {\n  return {\n    type: CLEAR_DATA\n  };\n}\n;\nexport function saveData() {\n  return {\n    type: SAVE_DATA\n  };\n}\n;\nexport function editData(data) {\n  return {\n    type: EDIT_DATA,\n    data: data\n  };\n}\n;\nexport function confirmAlert(field, value) {\n  return {\n    type: CONFIRM_ALERT,\n    field: field,\n    value: value\n  };\n}\n;\nexport function validateForm(data) {\n  return (dispatch, getState) => {\n    dispatch(addErrors(ValidationsForm.validateName(data.name)));\n    dispatch(addErrors(ValidationsForm.validateLastName(data.last_name)));\n    dispatch(addErrors(ValidationsForm.validateAgeOfBirth(data.age_of_birth)));\n    dispatch(addErrors(ValidationsForm.validatePhone(data.phone)));\n    dispatch(addErrors(ValidationsForm.validateEmail(data.email)));\n    dispatch(addErrors(ValidationsForm.validateCpf(data.cpf)));\n    dispatch(addErrors(ValidationsForm.validateIdenty(data.identy)));\n    dispatch(addErrors(ValidationsForm.validateZipCode(data.zip_code)));\n    dispatch(addErrors(ValidationsForm.validateState(data.state)));\n    dispatch(addErrors(ValidationsForm.validateCity(data.city)));\n    dispatch(addErrors(ValidationsForm.validateAddress(data.address)));\n    dispatch(addErrors(ValidationsForm.validateAddressNumber(data.address_number)));\n    dispatch(verifyPatientExists(getState()));\n    dispatch(checkErrors(getState()));\n  };\n}\n;\nexport function checkErrors(data) {\n  return (dispatch, getState) => {\n    let invalid_fields = false;\n\n    for (let value of Object.values(data.patientForm.errors)) {\n      if (value === true) {\n        invalid_fields = true;\n      }\n    }\n\n    if (!invalid_fields) {\n      dispatch(saveData());\n      dispatch(sendData(getState()));\n    }\n  };\n}\n;\nexport function sendData(data) {\n  return dispatch => {\n    console.log(data.patientForm);\n\n    if (data.patientForm.patient_id === '') {\n      dispatch(fetchSaveData(data));\n    } else {\n      dispatch(fetchEditData(data));\n    }\n  };\n}\n;\nexport function sendDataSuccess() {\n  return {\n    type: SEND_DATA_SUCCESS\n  };\n}\n;\nexport function sendDataError() {\n  return {\n    type: SEND_DATA_ERROR\n  };\n}\n;\nexport function addChanges(name_field, value_field) {\n  return {\n    type: ADD_CHANGES,\n    field: name_field,\n    value: value_field\n  };\n}\n;\nexport function addErrors(data) {\n  return {\n    type: ADD_ERRORS,\n    field_error: data.field,\n    field_error_msg: data.field + '_msg',\n    value_error: data.error,\n    value_error_msg: data.msg_error\n  };\n}\n;\nexport function fetchSaveData(data) {\n  return dispatch => {\n    fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager', {\n      method: 'POST',\n      headers: {\n        'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data.patientForm.patient_form_edit)\n    }).then(response => response.json()).then(response => {\n      if (response.errorType || response.statusCode === 500) {\n        throw response;\n      }\n\n      dispatch(sendDataSuccess());\n    }).catch(error => {\n      dispatch(sendDataError());\n    });\n  };\n}\n;\nexport function fetchEditData(data) {\n  return dispatch => {\n    fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager/' + data.patientForm.patient_form_edit.id, {\n      method: 'PUT',\n      headers: {\n        'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data.patientForm.patient_form_edit)\n    }).then(response => response.json()).then(response => {\n      if (response.errorType || response.statusCode === 500) {\n        throw response;\n      }\n\n      dispatch(sendDataSuccess());\n    }).catch(error => {\n      dispatch(sendDataError());\n    });\n  };\n}\n;\nexport function verifyPatientExists(data) {\n  return (dispatch, getState) => {\n    fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager/' + data.patientForm.patient_form_edit.cpf, {\n      method: 'GET',\n      headers: {\n        'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(response => {\n      if (response.errorType || response.statusCode === 500) {\n        throw response;\n      } else {\n        console.log(response.patient.length);\n\n        if (response.patient.length <= 1) {\n          if (data.patientForm.patient_id !== '' && response.patient[0].id === data.patientForm.patient_id) {\n            dispatch(checkErrors(getState()));\n          }\n        } else {\n          dispatch(addErrors({\n            field: 'cpf_error',\n            error: true,\n            msg_error: 'Paciente já cadastrado, por favor verifique o cpf.'\n          }));\n        }\n      }\n    }).catch(error => {\n      dispatch(sendDataError());\n    });\n  };\n}\n;","map":{"version":3,"sources":["/home/eduardo/Documents/projetos/manager-patients/client/src/store/actions/patientForm.js"],"names":["ADD_CHANGES","ADD_ERRORS","CLEAR_DATA","SAVE_DATA","EDIT_DATA","SEND_DATA_SUCCESS","SEND_DATA_ERROR","CONFIRM_ALERT","ValidationsForm","clearData","type","saveData","editData","data","confirmAlert","field","value","validateForm","dispatch","getState","addErrors","validateName","name","validateLastName","last_name","validateAgeOfBirth","age_of_birth","validatePhone","phone","validateEmail","email","validateCpf","cpf","validateIdenty","identy","validateZipCode","zip_code","validateState","state","validateCity","city","validateAddress","address","validateAddressNumber","address_number","verifyPatientExists","checkErrors","invalid_fields","Object","values","patientForm","errors","sendData","console","log","patient_id","fetchSaveData","fetchEditData","sendDataSuccess","sendDataError","addChanges","name_field","value_field","field_error","field_error_msg","value_error","error","value_error_msg","msg_error","fetch","method","headers","body","JSON","stringify","patient_form_edit","then","response","json","errorType","statusCode","catch","id","patient","length"],"mappings":"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","sourcesContent":["import {\n  ADD_CHANGES, \n  ADD_ERRORS, \n  CLEAR_DATA, \n  SAVE_DATA,\n  EDIT_DATA, \n  SEND_DATA_SUCCESS,\n  SEND_DATA_ERROR,\n  CONFIRM_ALERT\n} from '../actions/actionsType';\n\nimport * as ValidationsForm from '../../validations/patientForm';\n\nexport function clearData(){\n  return {\n    type: CLEAR_DATA\n  }\n};\n\n\nexport function saveData(){\n  return {\n    type: SAVE_DATA\n  }\n};\n\n\nexport function editData(data){\n  return {\n    type: EDIT_DATA,\n    data: data\n  }\n};\n\n\nexport function confirmAlert(field, value){\n  return {\n    type: CONFIRM_ALERT,\n    field: field,\n    value: value\n  }\n};\n\n\nexport function validateForm(data){\n  return (dispatch, getState) => {\n    dispatch(addErrors(ValidationsForm.validateName(data.name)));\n    dispatch(addErrors(ValidationsForm.validateLastName(data.last_name)));\n    dispatch(addErrors(ValidationsForm.validateAgeOfBirth(data.age_of_birth))); \n    dispatch(addErrors(ValidationsForm.validatePhone(data.phone)));\n    dispatch(addErrors(ValidationsForm.validateEmail(data.email)));\n    dispatch(addErrors(ValidationsForm.validateCpf(data.cpf)));\n    dispatch(addErrors(ValidationsForm.validateIdenty(data.identy)));\n    dispatch(addErrors(ValidationsForm.validateZipCode(data.zip_code)));\n    dispatch(addErrors(ValidationsForm.validateState(data.state)));\n    dispatch(addErrors(ValidationsForm.validateCity(data.city)));\n    dispatch(addErrors(ValidationsForm.validateAddress(data.address)));\n    dispatch(addErrors(ValidationsForm.validateAddressNumber(data.address_number)));\n    \n    dispatch(verifyPatientExists(getState()));\n\n    dispatch(checkErrors(getState()));\n  }\n};\n\n\nexport function checkErrors(data){\n  return (dispatch, getState) => {\n    \n    let invalid_fields = false;\n\n    for(let value of Object.values(data.patientForm.errors)){\n      if(value === true){\n        invalid_fields = true;\n      }\n    }\n\n    if(!invalid_fields){\n      dispatch(saveData());\n      dispatch(sendData(getState()));\n    }\n  }\n};\n\n\nexport function sendData(data){\n  return dispatch => {\n    console.log(data.patientForm);\n    if(data.patientForm.patient_id === ''){\n      dispatch(fetchSaveData(data));\n    }else {\n      dispatch(fetchEditData(data));\n    }\n  }\n};\n\n\nexport function sendDataSuccess(){\n  return {\n    type: SEND_DATA_SUCCESS\n  };\n};\n\n\nexport function sendDataError(){\n  return {\n    type: SEND_DATA_ERROR\n  };\n};\n\n\nexport function addChanges(name_field, value_field){\n  return {\n    type: ADD_CHANGES,\n    field: name_field,\n    value: value_field,\n  };\n};\n\n\nexport function addErrors(data){\n  return {\n    type: ADD_ERRORS,\n    field_error: data.field,\n    field_error_msg: data.field + '_msg',\n    value_error: data.error,\n    value_error_msg: data.msg_error\n  };\n};\n\n\nexport function fetchSaveData(data) {\n  return dispatch => {\n      fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager', {\n          method: 'POST',     \n          headers: {\n              'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n              'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data.patientForm.patient_form_edit)\n      }).then(response => response.json())\n        .then(response => {\n          if( response.errorType || response.statusCode === 500){\n              throw (response);\n          }\n          dispatch(sendDataSuccess());\n        })\n        .catch(error => {\n          dispatch(sendDataError());\n        })\n  }\n};\n\n\nexport function fetchEditData(data) {\n  return dispatch => {\n      fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager/' + data.patientForm.patient_form_edit.id, {\n          method: 'PUT',     \n          headers: {\n              'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n              'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data.patientForm.patient_form_edit)\n      }).then(response => response.json())\n        .then(response => {\n          if( response.errorType || response.statusCode === 500){\n              throw (response);\n          }\n          dispatch(sendDataSuccess());\n        })\n        .catch(error => {\n          dispatch(sendDataError());\n        })\n  }\n};\n\n\nexport function verifyPatientExists(data) {\n  return (dispatch, getState) => {\n      fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager/' + data.patientForm.patient_form_edit.cpf, {\n          method: 'GET',     \n          headers: {\n              'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n              'Content-Type': 'application/json'\n          }\n      }).then(response => response.json())\n        .then(response => {\n          if( response.errorType || response.statusCode === 500 ){\n              throw (response);\n          }else {\n            console.log(response.patient.length);\n            if(response.patient.length <= 1){\n              if( data.patientForm.patient_id !== '' && response.patient[0].id === data.patientForm.patient_id){\n                dispatch(checkErrors(getState()));      \n              }\n            }else {\n              dispatch(addErrors({field: 'cpf_error', error: true, msg_error: 'Paciente já cadastrado, por favor verifique o cpf.'}));    \n            }\n          }\n        })\n        .catch(error => {\n          dispatch(sendDataError());\n        })\n  }\n};"]},"metadata":{},"sourceType":"module"}