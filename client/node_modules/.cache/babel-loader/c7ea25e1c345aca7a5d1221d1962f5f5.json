{"ast":null,"code":"import { LIST_PATIENTS, DELETE_DATA, DELETE_DATA_PENDING, DELETE_DATA_SUCCESS, DELETE_DATA_ERROR, LIST_PATIENTS_SUCCESS, LIST_PATIENTS_ERROR, CONFIRM_ALERT } from '../actions/actionsType';\nimport { editData } from './patientForm';\nimport { changePage } from './bodyPage';\nexport function listPatients() {\n  return {\n    type: LIST_PATIENTS\n  };\n}\nexport function confirmAlert(field, value) {\n  return {\n    type: CONFIRM_ALERT,\n    field: field,\n    value: value\n  };\n}\nexport function editPage(data) {\n  return dispatch => {\n    dispatch(editData(data));\n    dispatch(changePage('patient-form'));\n  };\n}\nexport function deleteData() {\n  return {\n    type: DELETE_DATA\n  };\n}\nexport function deleteDataPending(patient) {\n  return {\n    type: DELETE_DATA_PENDING,\n    patient: patient\n  };\n}\nexport function deleteDataSuccess() {\n  return {\n    type: DELETE_DATA_SUCCESS\n  };\n}\nexport function deleteDataError() {\n  return {\n    type: DELETE_DATA_ERROR\n  };\n}\nexport function listPatientsSuccess(data) {\n  return {\n    type: LIST_PATIENTS_SUCCESS,\n    data: data\n  };\n}\nexport function listPatientsError() {\n  return {\n    type: LIST_PATIENTS_ERROR\n  };\n}\nexport function fetchPatients() {\n  return dispatch => {\n    dispatch(listPatients());\n    fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager', {\n      method: 'GET',\n      headers: {\n        'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH'\n      }\n    }).then(response => response.json()).then(response => {\n      if (response.errorType || response.statusCode === 500) {\n        throw response;\n      }\n\n      dispatch(listPatientsSuccess(response.body));\n    }).catch(error => {\n      dispatch(listPatientsError());\n    });\n  };\n}\n;\nexport function deletePatient(patient_id) {\n  return dispatch => {\n    dispatch(deleteData());\n    fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager/' + patient_id, {\n      method: 'DELETE',\n      headers: {\n        'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(response => {\n      if (response.errorType || response.statusCode === 500) {\n        throw response;\n      }\n\n      dispatch(fetchPatients());\n      dispatch(deleteDataSuccess());\n    }).catch(error => {\n      dispatch(deleteDataError());\n    });\n  };\n}\n;","map":{"version":3,"sources":["/home/eduardo/Documents/projetos/manager-patients/client/src/store/actions/patientList.js"],"names":["LIST_PATIENTS","DELETE_DATA","DELETE_DATA_PENDING","DELETE_DATA_SUCCESS","DELETE_DATA_ERROR","LIST_PATIENTS_SUCCESS","LIST_PATIENTS_ERROR","CONFIRM_ALERT","editData","changePage","listPatients","type","confirmAlert","field","value","editPage","data","dispatch","deleteData","deleteDataPending","patient","deleteDataSuccess","deleteDataError","listPatientsSuccess","listPatientsError","fetchPatients","fetch","method","headers","then","response","json","errorType","statusCode","body","catch","error","deletePatient","patient_id"],"mappings":"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","sourcesContent":["import {\n    LIST_PATIENTS, \n    DELETE_DATA,\n    DELETE_DATA_PENDING,\n    DELETE_DATA_SUCCESS,\n    DELETE_DATA_ERROR,\n    LIST_PATIENTS_SUCCESS,\n    LIST_PATIENTS_ERROR,\n    CONFIRM_ALERT, \n} from '../actions/actionsType';\n\nimport { editData } from './patientForm';\nimport { changePage } from './bodyPage';\n\nexport function listPatients(){\n  return {\n    type: LIST_PATIENTS,\n  };\n}\n\n\nexport function confirmAlert(field, value){\n  return {\n    type: CONFIRM_ALERT,\n    field: field,\n    value: value\n  }\n}\n\n\nexport function editPage(data){\n  return dispatch => {\n    dispatch(editData(data));\n    dispatch(changePage('patient-form'));\n  }\n}\n\n\nexport function deleteData(){\n  return {\n    type: DELETE_DATA,\n  }\n}\n\n\nexport function deleteDataPending(patient){\n  return {\n    type: DELETE_DATA_PENDING,\n    patient: patient\n  }\n}\n\n\nexport function deleteDataSuccess(){\n  return {\n    type: DELETE_DATA_SUCCESS,\n  }\n}\n\n\nexport function deleteDataError(){\n  return {\n    type: DELETE_DATA_ERROR,\n  }\n}\n\n\nexport function listPatientsSuccess(data){\n  return {\n    type: LIST_PATIENTS_SUCCESS,\n    data: data\n  }\n}\n\n\nexport function listPatientsError(){\n  return {\n    type: LIST_PATIENTS_ERROR,\n  }\n}\n\n\nexport function fetchPatients() {\n  return dispatch => {\n      dispatch(listPatients());\n      fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager', {\n          method: 'GET',\n          headers: {\n              'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH'\n          }\n      }).then(response => response.json())\n        .then(response => {\n          if( response.errorType || response.statusCode === 500){\n              throw (response);\n          }\n          dispatch(listPatientsSuccess(response.body));\n        })\n        .catch(error => {\n          dispatch(listPatientsError());\n        })\n  }\n};\n\n\nexport function deletePatient(patient_id) {\n  return dispatch => {\n      dispatch(deleteData());\n      fetch('https://ybht24vw4a.execute-api.us-east-2.amazonaws.com/Patient-Manager/patient-manager/' + patient_id, {\n          method: 'DELETE',\n          headers: {\n              'x-api-key': 'jsxcKzoEKCag5Ix4dt88F46ZOizynbtN8LHoAJjH',\n              'Content-Type': 'application/json'\n          }\n      }).then(response => response.json())\n        .then(response => {\n          if( response.errorType || response.statusCode === 500){\n              throw (response);\n          }\n          dispatch(fetchPatients());\n          dispatch(deleteDataSuccess());\n        })\n        .catch(error => {\n          dispatch(deleteDataError());\n        })\n  }\n};"]},"metadata":{},"sourceType":"module"}